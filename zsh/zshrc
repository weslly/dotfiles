export EDITOR="nvim"
export GIT_EDITOR=$EDITOR
export LANG=en_US.UTF-8
export LC_CTYPE=C
export LC_ALL=en_US.UTF-8
export MANPATH="/usr/local/opt/coreutils/libexec/gnuman:$MANPATH"
export MANPAGER="nvim -c 'set ft=man' -"
export PAGER='less'
export LESS='-F -g -i -M -R -S -w -X -z-4'
export LESSOPEN="|/usr/local/bin/lesspipe.sh %s" LESS_ADVANCED_PREPROCESSOR=1
export is_dev=1
export _Z_NO_COMPLETE_CD=1
export PURE_CMD_MAX_EXEC_TIME="59"
export HOMEBREW_NO_ANALYTICS=1
export NVM_LAZY_LOAD=true

# ZIM
export ZIM_HOME=${ZDOTDIR:-${HOME}}/.zim
[[ -s ${ZIM_HOME}/init.zsh ]] && source ${ZIM_HOME}/init.zsh

# FZF
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export FZF_DEFAULT_COMMAND='rg --files --hidden'

# Zsh Options
setopt hist_ignore_all_dups share_history append_history hist_expire_dups_first
setopt auto_param_slash
setopt correct
HISTORY_IGNORE='(ls|ls *|cd|cd -|-|clear|pwd|exit|date|* --help)'

# Aliases
alias vvim=/usr/local/bin/vim
alias vim=$EDITOR
alias vi=$EDITOR
alias weechat="env TERM=screen-256color weechat"
alias flush="sudo dscacheutil -flushcache && sudo killall -HUP mDNSResponder"
alias ip="dig +short myip.opendns.com @resolver1.opendns.com"
alias ips="ifconfig -a | grep -o 'inet6\? \(\([0-9]\+\.[0-9]\+\.[0-9]\+\.[0-9]\+\)\|[a-fA-F0-9:]\+\)' | sed -e 's/inet6* //'"
alias xclip='pbcopy'
alias xsel='pbcopy'
alias tmx='/usr/local/bin/tmux new-session -A -s main'
alias :q='exit'
alias osu='mv ~/Downloads/*.osz /Applications/osu\!.app/drive_c/Program\ Files/osu\!/songs'
unalias ls

ls() {
  exa "$@"
}

# Keys
bindkey '^P' fzf-cd-widget

# eval "$(rbenv init -)"
rbenv() {
  eval "$(command rbenv init -)"
  rbenv "$@"
}

# Plugins
alias update-zsh-plugins="cd ~/dotfiles/zsh/plugins && git submodule update --recursive --remote ./ && git submodule foreach git status"

source ~/.zsh-plugins/z.lua/z.lua.plugin.zsh
source ~/.zsh-plugins/fast-syntax-highlighting/fast-syntax-highlighting.plugin.zsh
source ~/.zsh-plugins/fz/fz.plugin.zsh
source ~/.zsh-plugins/zsh-nvm/zsh-nvm.plugin.zsh
