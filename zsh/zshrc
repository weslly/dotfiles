export EDITOR="nvim"
export GIT_EDITOR=$EDITOR
export PAGER='less'
export LANG=en_US.UTF-8
export LC_CTYPE=C
export LC_ALL=en_US.UTF-8

export is_dev=1

export MANPATH="/usr/local/opt/coreutils/libexec/gnuman:$MANPATH"
(( $+commands[nvim] )) && export MANPAGER="nvim -c 'set ft=man' -"
export LESS='-F -g -i -M -R -S -w -X -z-4'

setopt HIST_IGNORE_ALL_DUPS
setopt autoparamslash
export _Z_NO_COMPLETE_CD=1

# Change default zim location
export ZIM_HOME=${ZDOTDIR:-${HOME}}/.zim

# Start zim
[[ -s ${ZIM_HOME}/init.zsh ]] && source ${ZIM_HOME}/init.zsh

HISTIGNORE="ls:ls *:cd:cd -:-:clear:pwd;exit:date:* --help"

# export PURE_PROMPT_SYMBOL="â–¶"
export PURE_CMD_MAX_EXEC_TIME="59"
export PURE_GIT_PULL=0

# FZF
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export FZF_DEFAULT_COMMAND='rg --files --hidden'

alias vvim=/usr/local/bin/vim
alias vim=$EDITOR
alias vi=$EDITOR

export HOMEBREW_NO_ANALYTICS=1

alias weechat="env TERM=screen-256color weechat"
alias flush="sudo dscacheutil -flushcache && sudo killall -HUP mDNSResponder"
alias ip="dig +short myip.opendns.com @resolver1.opendns.com"
alias ips="ifconfig -a | grep -o 'inet6\? \(\([0-9]\+\.[0-9]\+\.[0-9]\+\.[0-9]\+\)\|[a-fA-F0-9:]\+\)' | sed -e 's/inet6* //'"
alias xclip='pbcopy'
alias xsel='pbcopy'
alias tmx='/usr/local/bin/tmux new-session -A -s main'

bindkey '^P' fzf-cd-widget

export LESSOPEN="|/usr/local/bin/lesspipe.sh %s" LESS_ADVANCED_PREPROCESSOR=1

eval "$(rbenv init -)"

test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"

# Plugins
source ~/.zsh-plugins/z/z.sh
source ~/.zsh-plugins/fast-syntax-highlighting/fast-syntax-highlighting.plugin.zsh

if [[ "$PROFILE_STARTUP" == true ]]; then
    zprof
    unsetopt xtrace
    exec 2>&3 3>&-
fi
